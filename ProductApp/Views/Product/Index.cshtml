@model IEnumerable<ProductApp.Models.Product>

@{
    Layout = "";
}
<!DOCTYPE html>
<html>
<head>
    <title>List of Products</title>
    <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
    <h2>List Of Products</h2>
    <main>        
        <a class="btn-create" href="Product/Create">Create Product</a>
        <table>
            <thead>
                <tr>
                    <th>Product Name</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Created Date</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @if (Model != null && Model.Any())
                {
                    foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.Name</td>
                            <td>@item.Description</td>
                            <td>@item.Price</td>
                            <td>@item.CreatedDate.ToShortDateString()</td>
                            <td>
                                <a class="btn-update" href="/Product/Edit/@item.ProductId">Edit</a>
                                <a href="javascript:void(0)"
                                   class="btn-delete"
                                   onclick="openDeleteModal(@item.ProductId)">Delete</a>
                            </td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="4" class="text-center">
                            No products found
                        </td>
                    </tr>
                }

            </tbody>


        </table>
        <!-- Delete Confirmation Modal -->
        <div id="deleteModal" class="modal">
            <div class="modal-content">
                <h3>Confirm Delete</h3>
                <p>Are you sure you want to delete this product?</p>
                <div class="modal-actions">
                    <button onclick="closeDeleteModal()">Cancel</button>
                    <a id="confirmDeleteBtn" class="btn-delete">Delete</a>
                </div>
            </div>
        </div>

    </main>
    <script src="~/js/script.js"></script>

</body>
</html>
